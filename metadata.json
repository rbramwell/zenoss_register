{
  "name": "zenoss_register",
  "description": "Auto-registers Zenoss monitored servers",
  "long_description": "zenoss_register LWRP\n====================\n\n[![Build Status](https://secure.travis-ci.org/themoore/zenoss_register.png?branch=master)](http://travis-ci.org/themoore/zenoss_register)\n\nRegisters a client with a Zenoss Core 4 monitoring server. This will register both Linux and Windows systems as it uses the ruby built-in with chef-client to perform a POST call back to the server.\n\nRequirements\n------------\n\nTested with Zenoss Core 4.  Depends on `net/http`, which should be provided by Chef's Ruby.\n\nResources/Providers\n-------------------\n\n### zenoss_register\n\nThis resource allows one to register a client on a Zenoss via LWRP.\nParameters, devicePath and productionState are derived from, Ohai `kernel.os`\nand `chef_environment` method respectively.\n\nThe included `prod_state` library will return numeric values to somewhat\nintelligently calculate the Zenoss productionState value.\n\nGenerally `prod_state` outputs the following for `productionState` given environment inputs.\n\n    production/prod => 1000,\n    pre-prod/preprod => 500,\n    test => 400,\n    maintenance => 300,\n    decommissioned => -1,\n    other => 1000\n\n`devicePath` will be set to /Server/Windows, /Server/Linux, or /Server depending on `kernel.os`\n\n#### Examples\n\nConfigure a client to register with Zenoss using LWRP.  See default recipe\nfor an example.\n\n```\nzenoss_register node['hostname'] do\n  username 'admin'\n  password 'admin'\n  baseuri 'http://zenoss.example.com:8080'\n  devicePath '/Server/Linux'\n  productionState prod_state['production']\nend\n```\n\nConfigure a client to register with Zenoss via role.\n\n```\nname 'zenoss_register_production'\ndescription 'Add a client to a Zenoss Core 4 server'\ndefault_attributes(\n  'zenoss_register' => { \n    'username'          => 'admin',\n    'password'          => 'password',\n    'baseuri'           => 'http://zen.example.com:8080',\n  }\n)\nrun_list \"recipe[zenoss_register::default]\"\n```\n\n#### Actions\n\n* `:register` is the only action supported at this time.\n\n#### Parameters\n\n* `deviceName` - Hostname of device to be monitored, defaults to name of resource.\n\n* `username` - an API admin with permission to add devices to Zenoss, default `admin`.\n\n* `password` - an API password with permission to add devices to Zenoss, default `zenoss`.\n\n* `baseuri` - the base URI/URL for your Zenoss instance, default `http://zen.#{node['domain']}:8080`\n\n* `devicePath` - the device container where the monitored client will be added, default platform-specific.\n\n* `productionState` - the numerical Zenoss state, based on the `chef_environment` method.  Default, derived via `prod_state(chef.environment)`\n\nAttributes\n----------\n\nThe following are attributes that can be overridden in the `zenoss_register` namespace\n\n* `['zenoss_register']['username']`\n  - String\n  - Default 'admin'\n  - Username on Zenoss which can create new objects\n\n* `['zenoss_register']['password']`\n  - String\n  - Default 'password'\n  - Password for account who can create new objects\n\n* `['zenoss_register']['baseuri']`\n  - String\n  - Default \"http://zen.#{node['domain']}:8080\"\n  - Base URL of the Zenoss server including the port. Do not provide a trailing slash\n\nAttribute set by provider, probably should not mess with this:\n\n* `['zenoss_register']['registered']`\n  - Bool\n  - Default false\n  - Set in provider to true.\n\nReferences\n----------\n\n* [Automatically adding and editing devices in Zenoss Core 4 using the API](http://blog.remibergsma.com/2013/04/26/automatically-adding-and-editing-devices-in-zenoss-core-4-using-the-api/)\n* [Zenoss Core 4 JSON and API Documentation](http://community.zenoss.org/community/documentation/official_documentation/api)\n\nLicense and Authors\n-------------------\n\nAuthor:: Patrick Moore (moore267@marshall.edu)\n\nEric G. Wolfe (wolfe21@marshall.edu)\n\nCopyright:: 2014\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License\n",
  "maintainer": "Patrick Moore",
  "maintainer_email": "moore267@marshall.edu",
  "license": "All rights reserved",
  "platforms": {
  },
  "dependencies": {
  },
  "recommendations": {
  },
  "suggestions": {
  },
  "conflicting": {
  },
  "providing": {
  },
  "replacing": {
  },
  "attributes": {
  },
  "groupings": {
  },
  "recipes": {
  },
  "version": "0.1.33"
}